<div class="admin-container">
  <div class="admin-card">
    <!-- Header -->
    <div class="header">
      <h1>Gestion des Utilisateurs</h1>
      <p class="subtitle">Liste des utilisateurs et leurs rôles</p>
    </div>

    <!-- Loading State -->
    @if (userService.isLoading()) {
      <div class="loading-state">
        <span class="spinner"></span>
        <p>Chargement des utilisateurs...</p>
      </div>
    }

    <!-- Error State -->
    @if (userService.error()) {
      <div class="alert alert-error">
        {{ userService.error() }}
      </div>
    }

    <!-- Users Table -->
    @if (!userService.isLoading() && userService.users().length > 0) {
      <div class="table-container">
        <table class="users-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Login</th>
              <th>Rôle</th>
            </tr>
          </thead>
          <tbody>
            @for (user of userService.users(); track user.id) {
              <tr>
                <td>{{ user.id }}</td>
                <td class="user-login">{{ user.login }}</td>
                <td>
                  <span class="role-badge" [class.admin]="user.role === 'admin'">
                    {{ user.role === 'admin' ? 'Admin' : 'User' }}
                  </span>
                </td>
              </tr>
            }
          </tbody>
        </table>
        
        <div class="table-footer">
          <p>Total: {{ userService.users().length }} utilisateur(s)</p>
        </div>
      </div>
    }

    <!-- Empty State -->
    @if (!userService.isLoading() && !userService.error() && userService.users().length === 0) {
      <div class="empty-state">
        <p>Aucun utilisateur trouvé</p>
      </div>
    }
  </div>
</div>
